# en_PP-OCRv3_rec_infer/inference.yml

Global:
  algorithm: SVTR
  model_name: rec_svtrnet # 這是解決 "Model name mismatch" 錯誤的關鍵
  model_type: rec
  use_onnx: false
  use_gpu: true
  epoch_num: 500
  log_smooth_window: 20
  print_batch_step: 10
  save_model_dir: ./output/rec_svtr_ppocr_v3_en
  save_epoch_step: 3
  eval_batch_step:
  - 0
  - 2000
  cal_metric_during_train: true
  pretrained_model:
  checkpoints:
  save_inference_dir: ./inference/rec_svtr_ppocr_v3_en
  use_visualdl: false
  infer_img: doc/imgs_words_en/word_10.png
  # 字元字典檔案的路徑，非常重要！
  character_dict_path: en_dict.txt
  save_res_path: ./output/rec/predicts.txt
  max_text_length: 25
  use_space_char: true

Architecture:
  model_type: rec
  algorithm: SVTR
  Transform:
  Backbone:
    name: MobileNetV1Enhance
    scale: 0.5
  Head:
    name: CTCHead
    fc_decay: 0.00001
    
Metric:
  name: RecMetric
  main_indicator: acc

Loss:
  name: CTCLoss

Optimizer:
  name: AdamW
  beta1: 0.9
  beta2: 0.999
  lr:
    name: Cosine
    learning_rate: 0.0005
    warmup_epoch: 5
  regularizer:
    name: L2
    factor: 0.00001
